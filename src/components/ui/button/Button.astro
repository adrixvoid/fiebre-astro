---
import type { HTMLAttributes } from "astro/types";
import { buttonVariants, type ButtonVariants } from "./Button.cva";

type BaseProps = HTMLAttributes<"button" | "a" | "div"> & {
  as?: "button" | "a";
  class?: string;
}

export type ButtonProps = BaseProps & ButtonVariants;

const {
  as: Component = "button",
  variant,
  size,
  width,
  class: className = "",
  ...props
} = Astro.props as ButtonProps;
---

<Component
  class={buttonVariants({ variant, size, width, className })}
  {...props}
>
  <slot />
</Component>
